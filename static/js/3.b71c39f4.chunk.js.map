{"version":3,"sources":["components/Profile/Description/Description.module.css","components/Profile/Avatar/Avatar.module.css","components/Profile/Profile.module.css","components/Profile/Avatar/Avatar.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/WriteNewPost/WriteNewPost.jsx","components/Profile/WriteNewPost/WriteNewPostContainer.jsx","components/Profile/Description/ProfileData/ProfileData.jsx","components/Profile/Description/ProfileDataForm/ProfileDataForm.jsx","components/Profile/Description/Description.jsx","components/Profile/Description/DescriptionContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["module","exports","Avatar","props","className","styles","avatar","src","photos","small","userPhoto","avatar__photo","alt","isOwner","type","onChange","onAvatarSelected","connect","state","ownProps","ProfilePage","profile","saveProfilePhoto","e","target","files","length","React","memo","post","text","likesCount","MyPosts","Posts","MyPostsContainer","PostsData","map","x","key","id","message","maxLengthCreator10","maxLengthCreator","WriteNewPostReduxForm","reduxForm","form","onSubmit","handleSubmit","htmlFor","Field","component","Textarea","name","validate","required","WriteNewPost","style","formData","console","log","addPost","newPostText","WriteNewPostContainer","ProfileData","onClick","turnOnEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","Object","keys","c","ProfileDataReduxForm","error","createSimpleField","Input","border","updateProfile","getUserProfile","values","then","turnOffEditMode","userId","Description","useState","editMode","setEditMode","fontFamily","color","onDoubleClick","status","autoFocus","onBlur","setStatus","value","onChangeStatus","initialValues","getStatus","updateStatus","setStateEditMode","useEffect","editModeState","Profile","DescriptionContainer","Preloader","ProfileContainer","this","myId","getUserProfileById","match","params","prevProps","prevState","snapshot","Component","compose","Auth","isAuth","undefined","withRouter"],"mappings":"yFACAA,EAAOC,QAAU,CAAC,SAAW,gC,oBCA7BD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,gC,0CCAlED,EAAOC,QAAU,CAAC,QAAU,2B,wJCM5B,SAASC,EAAOC,GACf,OACE,yBAAKC,UAAWC,IAAOC,QACtB,yBAAKC,IAAKJ,EAAMK,OAAOC,OAASC,IAAWN,UAAWC,IAAOM,cAAeC,IAAI,SAC/ET,EAAMU,SAAW,2BAAOC,KAAM,OAAQC,SAAUZ,EAAMa,oBAK3D,IAeeC,qBALS,SAACC,EAAOC,GAAR,mBAAC,eACrBA,GADoB,IAEvBX,OAAQU,EAAME,YAAYC,QAAQb,WAGK,CAACc,sBAA1BL,EAfS,SAACd,GAOxB,OAAO,kBAACD,EAAD,iBAAYC,EAAZ,CAAmBa,iBAND,SAACO,GACrBA,EAAEC,OAAOC,MAAMC,QAElBvB,EAAMmB,iBAAiBC,EAAEC,OAAOC,MAAM,W,kBCR1BE,MAAMC,MATR,SAACzB,GACb,OACC,yBAAKC,UAAWC,IAAOwB,MACtB,2BAAI1B,EAAM2B,MACV,8BAAO3B,EAAM4B,gBCIDC,EATC,SAAA7B,GACf,OACC,6BACC,uCACCA,EAAM8B,QCSKC,EAFUjB,mBARD,SAACd,GACrB,MAAO,CACH8B,MAAO9B,EAAMiB,YAAYe,UAAUC,KAAI,SAAAC,GAAC,OACpC,kBAAC,EAAD,CAAMC,IAAKD,EAAEE,GAAIT,KAAMO,EAAEG,QAAST,WAAYM,EAAEN,mBAKV,KAAzBd,CAA+Be,G,oDCRlDS,EAAqBC,YAAiB,IAsBtCC,EAAwBC,YAAU,CACpCC,KAAM,gBADoBD,EApBL,SAACzC,GACtB,OACI,0BAAO2C,SAAU3C,EAAM4C,cACnB,6BACI,6BACI,2BAAOC,QAAS,eAAhB,yBAEJ,6BACI,kBAACC,EAAA,EAAD,CACIC,UAAWC,IACXC,KAAM,cACNC,SAAU,CAACC,IAAUb,OAIjC,4BAAQ3B,KAAK,UAAb,qBAwBGyC,EAfM,SAACpD,GAOlB,OACI,yBAAKqD,MAAO,CAAC,OAAU,SACvB,kBAACb,EAAD,CAAuBG,SAPV,SAACW,GACdC,QAAQC,IAAIF,GACZtD,EAAMyD,QAAQH,EAASI,kBCxBhBC,EAFe7C,mBALR,SAACC,GACnB,MAAO,KAI4C,CAAC0C,aAA1B3C,CAAoCsC,G,mCC2BnDQ,EAjCK,SAAC5D,GACjB,OACI,6BACI,4BAAQ6D,QAAS7D,EAAM8D,gBAAvB,QACA,yBAAK7D,UAAU,YAAYD,EAAMkB,QAAQ6C,UACzC,yBAAK9D,UAAU,WAAWD,EAAMkB,QAAQ8C,SAExC,6BACKhE,EAAMkB,QAAQ+C,gBAAkBjE,EAAMkB,QAAQgD,2BAEnD,6BACwC,IAAlClE,EAAMkB,QAAQiD,SAAS5C,QAAiB,yFAE9C,wBAAItB,UAAWoD,IAAMc,UAEsB,IAAlCnE,EAAMkB,QAAQiD,SAAS5C,QACxB6C,OAAOC,KAAKrE,EAAMkB,QAAQiD,UAAUlC,KAAI,SAAAqC,GAAC,OAEjC,oCACI,wBAAIrE,UAAW,gBAAiBkC,IAAKmC,GAChCA,GAEL,wBAAInC,IAAKmC,EAAI,QACRtE,EAAMkB,QAAQiD,SAASG,WCoBtDC,EAAuB9B,YAAU,CAACC,KAAM,WAAjBD,EAtCL,SAACzC,GAAW,IACzBwE,EAASxE,EAATwE,MACP,OAAO,6BACH,0BAAM7B,SAAU3C,EAAM4C,cACjB6B,YAAkB,YAAa,WAAY,CAACtB,KAAWuB,KACvDD,YAAkB,WAAY,UAAW,CAACtB,KAAWH,KACrDyB,YAAkB,oBAAqB,iBAAkB,GAAIC,IAAO,WAAY,qBAChFD,YAAkB,oBAAqB,4BAA6B,CAACtB,KAAWH,IAAU,6BAG3F,6BACwC,IAAlChD,EAAMkB,QAAQiD,SAAS5C,QAAiB,yFAE9C,wBAAItB,UAAWoD,IAAMc,UAEsB,IAAlCnE,EAAMkB,QAAQiD,SAAS5C,QACxB6C,OAAOC,KAAKrE,EAAMkB,QAAQiD,UAAUlC,KAAI,SAAAqC,GAAC,OAEjC,oCACI,wBAAIrE,UAAW,gBAAiBkC,IAAKmC,GAChCA,GAEL,wBAAInC,IAAKmC,EAAI,QACRG,YAAkBH,EAAG,YAAcA,EAAG,GAAII,WAOlEF,GAAS,yBAAKnB,MAAO,CAACsB,OAAQ,kBAC1BH,GAEL,4BAAQ7D,KAAK,UAAb,sBAuBGG,qBAJS,SAACC,GAAD,MAAY,CAChCG,QAASH,EAAME,YAAYC,WAGS,CAAC0D,kBAAeC,oBAAzC/D,EAhBkB,SAACd,GAQ9B,OAAO,kBAACuE,EAAD,iBAA0BvE,EAA1B,CAAiC2C,SAPvB,SAACmC,GAEd9E,EAAM4E,cAAcE,GAAQC,MAAK,WAC7B/E,EAAMgF,kBACNhF,EAAM6E,eAAe7E,EAAMkB,QAAQ+D,kBCJhCC,EA5CK,SAAClF,GAAW,IAAD,EAEKmF,oBAAS,GAFd,mBAEpBC,EAFoB,KAEVC,EAFU,KAI3B,OACI,6BACI,yBAAKpF,UAAU,SAASoD,MAAO,CAACiC,WAAY,SAAUC,MAAO,YAEpDvF,EAAMoF,UACP,6BACA,0BACII,cAAe,WACXxF,EAAMqF,aAAY,KAGrBrF,EAAMyF,QAAU,UAMrBzF,EAAMoF,UACN,2BACIM,WAAW,EACXC,OAAQ,kBAAM3F,EAAM4F,UAAU5F,EAAMyF,SACpCI,MAAO7F,EAAMyF,OACb7E,SAAU,SAACQ,GACPpB,EAAM8F,eAAe1E,EAAEC,OAAOwE,WAK7CT,EACK,kBAAC,EAAD,CAAiBW,cAAe/F,EAAMkB,QAAS8D,gBAAiB,kBAAMK,GAAY,MAClF,kBAAC,EAAD,CAAanE,QAASlB,EAAMkB,QAAS4C,eAAgB,kBAAMuB,GAAY,QCQ1EvE,qBANS,SAACC,GACrB,MAAO,CACHG,QAASH,EAAME,YAAYC,QAC3BuE,OAAQ1E,EAAME,YAAYwE,UAGM,CAACO,cAAWC,kBAArCnF,EA1CuB,SAACd,GAAW,IAAD,EAEVmF,oBAAS,GAFC,mBAExCC,EAFwC,KAE9Bc,EAF8B,OAGnBf,mBAASnF,EAAMyF,QAHI,mBAGxCA,EAHwC,KAGhCG,EAHgC,KAK7CO,qBAAU,WACNnG,EAAMgG,UAAUhG,EAAMkB,QAAQ+D,QAC9BW,EAAU5F,EAAMyF,UACjB,CAACzF,EAAMyF,SAgBN,OACI,kBAAC,EAAD,CACIvE,QAASlB,EAAMkB,QACfuE,OAAQA,EACRL,SAAUA,EACVU,eAnBU,SAACL,GACnBG,EAAUH,IAmBFG,UAhBO,WACf5F,EAAMiG,aAAaR,GACnBS,GAAiB,IAeTb,YAZQ,SAACe,GAEjBF,EAAiBE,SCHVC,EAfE,SAACrG,GACjB,OAAIA,EAAMkB,QAKT,yBAAKjB,UAAWC,IAAOgB,SACtB,kBAAC,EAAD,CAAQb,OAAQL,EAAMkB,QAAQb,OAAQK,QAASV,EAAMU,UACrD,kBAAC4F,EAAD,CAAsBpF,QAASlB,EAAMkB,QAASuE,OAAQzF,EAAMyF,SAC5D,kBAAC,EAAD,MACA,kBAAC,EAAD,OARM,kBAACc,EAAA,EAAD,O,gBCHHC,E,iLAEiBvB,GAEfwB,KAAKzG,MAAM6E,eAAeI,GAAkBwB,KAAKzG,MAAM0G,MACvDD,KAAKzG,MAAMgG,UAAUf,GAAkBwB,KAAKzG,MAAM0G,Q,0CAIlDD,KAAKE,mBAAmBF,KAAKzG,MAAM4G,MAAMC,OAAO5B,U,yCAGjC6B,EAAWC,EAAWC,GAClCF,EAAUF,MAAMC,OAAO5B,SAAWwB,KAAKzG,MAAM4G,MAAMC,OAAO5B,QACzDwB,KAAKE,mBAAmBF,KAAKzG,MAAM4G,MAAMC,OAAO5B,U,+BAIpD,OACI,kBAAC,EAAD,eACIvE,UAAW+F,KAAKzG,MAAM0G,MAClBD,KAAKzG,Y,GArBMwB,IAAMyF,WAkCtBC,4BACXpG,mBAPkB,SAACC,GAAD,MAAY,CAC9BG,QAASH,EAAME,YAAYC,QAC3BuE,OAAQ1E,EAAME,YAAYwE,OAC1BiB,KAAM3F,EAAMoG,KAAKC,OAASrG,EAAMoG,KAAKlC,YAASoC,KAIrB,CAACxC,mBAAgBmB,gBAC1CsB,IAFWJ,CAGbV","file":"static/js/3.b71c39f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"Description_contacts__1vBkE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__2WZvf\",\"avatar__photo\":\"Avatar_avatar__photo__TV6zX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__3VnSr\"};","import React from 'react';\nimport styles from './Avatar.module.css'\nimport userPhoto from '../../assets/freepik-avatar.jpg';\nimport {connect} from \"react-redux\";\nimport {saveProfilePhoto} from \"../../../redux/profile-reducer\";\n\n\nfunction Avatar(props){\n\treturn(\n\t\t\t<div className={styles.avatar}>\n\t\t\t\t<img src={props.photos.small || userPhoto} className={styles.avatar__photo} alt=\"ava \"/>\n\t\t\t\t{props.isOwner && <input type={\"file\"} onChange={props.onAvatarSelected}/>}\n\t\t\t</div>\n\t);\n}\n\nconst AvatarContainer = (props)=>{\n\tconst onAvatarSelected = (e) => {\n\t\tif( e.target.files.length)\n\t\t{\n\t\t\tprops.saveProfilePhoto(e.target.files[0]);\n\t\t}\n\t}\n\treturn <Avatar {...props} onAvatarSelected={onAvatarSelected} />;\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n\t...ownProps,\n\tphotos: state.ProfilePage.profile.photos\n});\n\nexport default connect(mapStateToProps, {saveProfilePhoto})(AvatarContainer);\n","import React from 'react';\nimport styles from './Post.css';\n\nconst Post = (props) => {\n\treturn (\n\t\t<div className={styles.post}>\n\t\t\t<p>{props.text}</p>\n\t\t\t<span>{props.likesCount}</span>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Post);\n","import React from 'react';\n\nconst MyPosts = props => {\n\treturn (\n\t\t<div>\n\t\t\t<h3>MyPosts</h3>\n\t\t\t{props.Posts}\n\t\t</div>\n\t);\n};\n\nexport default MyPosts;\n","import React, {PureComponent} from 'react';\nimport Post from './Post/Post';\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\nconst mapStateToProps = (props) => {\n    return {\n        Posts: props.ProfilePage.PostsData.map(x => (\n            <Post key={x.id} text={x.message} likesCount={x.likesCount}/>\n            ))\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, null)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {required, maxLengthCreator} from \"../../../utils/validators/validators\";\nimport {Textarea} from \"../../Common/FormsControls/FormsControls\";\n\nconst maxLengthCreator10 = maxLengthCreator(10);\n\nconst WriteNewPostForm = (props) => {\n    return (\n        <form  onSubmit={props.handleSubmit}>\n            <div>\n                <div>\n                    <label htmlFor={\"newPostText\"}>Write your new post!</label>\n                </div>\n                <div>\n                    <Field\n                        component={Textarea}\n                        name={\"newPostText\"}\n                        validate={[required, maxLengthCreator10 ]}\n                    />\n                </div>\n            </div>\n            <button type=\"submit\"  >Send new post</button>\n        </form>\n    );\n}\n\nconst WriteNewPostReduxForm = reduxForm({\n    form: 'writeNewPost'\n})(WriteNewPostForm);\n\nconst WriteNewPost = (props) => {\n\n    const onSubmit = (formData) => {\n        console.log(formData);\n        props.addPost(formData.newPostText);\n    }\n\n    return (\n        <div style={{\"margin\": \"20px\"}}>\n        <WriteNewPostReduxForm onSubmit ={onSubmit}/>\n        </div>\n    );\n\n}\n\nexport default WriteNewPost;\n","import {addPost, updateNewPost} from \"../../../redux/profile-reducer\";\nimport WriteNewPost from \"./WriteNewPost\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToProps = (state)=>{\n    return {\n    }\n}\n\nconst WriteNewPostContainer = connect(mapStateToProps, {addPost})(WriteNewPost);\n\nexport default WriteNewPostContainer;\n","import style from \"../Description.module.css\";\r\nimport React from \"react\";\r\n\r\nconst ProfileData = (props) => {\r\n    return (\r\n        <div>\r\n            <button onClick={props.turnOnEditMode}>Edit</button>\r\n            <div className=\"fullName\">{props.profile.fullName}</div>\r\n            <div className=\"aboutMe\">{props.profile.aboutMe}</div>\r\n\r\n            <div>\r\n                {props.profile.lookingForAJob && props.profile.lookingForAJobDescription}\r\n            </div>\r\n            <div>\r\n                {(props.profile.contacts.length !== 0) && \"Социальные сети\"}\r\n            </div>\r\n            <dl className={style.contacts}>\r\n                {\r\n                    (props.profile.contacts.length !== 0) &&\r\n                    Object.keys(props.profile.contacts).map(c =>\r\n                        (\r\n                            <>\r\n                                <dt className={\"contacts_item\"} key={c}>\r\n                                    {c}\r\n                                </dt>\r\n                                <dd key={c + 'Prop'}>\r\n                                    {props.profile.contacts[c]}\r\n                                </dd>\r\n                            </>\r\n                        )\r\n                    )\r\n                }\r\n            </dl>\r\n        </div>);\r\n}\r\n\r\nexport default ProfileData;","import style from \"../Description.module.css\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, updateProfile} from \"../../../../redux/profile-reducer\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport {createSimpleField, Input, Textarea} from \"../../../Common/FormsControls/FormsControls\";\r\nimport {required} from \"../../../../utils/validators/validators\";\r\n\r\nconst ProfileDataForm = (props) => {\r\n    const {error} = props;\r\n    return <div>\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createSimpleField('Full name', 'fullName', [required], Input)}\r\n            {createSimpleField('About me', 'aboutMe', [required], Textarea)}\r\n            {createSimpleField('looking for a job', 'lookingForAJob', [], Input, 'checkbox', 'Looking for a job')}\r\n            {createSimpleField('looking for a job', 'lookingForAJobDescription', [required], Textarea, 'Looking a job description')}\r\n\r\n\r\n            <         div>\r\n                {(props.profile.contacts.length !== 0) && \"Социальные сети\"}\r\n            </div>\r\n            <dl className={style.contacts}>\r\n                {\r\n                    (props.profile.contacts.length !== 0) &&\r\n                    Object.keys(props.profile.contacts).map(c =>\r\n                        (\r\n                            <>\r\n                                <dt className={\"contacts_item\"} key={c}>\r\n                                    {c}\r\n                                </dt>\r\n                                <dd key={c + 'Prop'}>\r\n                                    {createSimpleField(c, 'contacts.' + c, [], Input)}\r\n                                </dd>\r\n                            </>\r\n                        )\r\n                    )\r\n                }\r\n            </dl>\r\n            {error && <div style={{border: \"1px solid red\"}}>\r\n                {error}\r\n            </div>}\r\n            <button type=\"submit\">Save new Data</button>\r\n        </form>\r\n    </div>;\r\n}\r\n\r\nconst ProfileDataReduxForm = reduxForm({form: 'profile'})(ProfileDataForm)\r\n\r\nconst ProfileDataFormContainer = (props) => {\r\n    const onSubmit = (values) => {\r\n        //TODO: architecture error, rewrite\r\n        props.updateProfile(values).then(()=>{\r\n            props.turnOffEditMode();\r\n            props.getUserProfile(props.profile.userId);\r\n        })\r\n    }\r\n    return <ProfileDataReduxForm {...props} onSubmit={onSubmit}/>;\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.ProfilePage.profile\r\n});\r\n\r\nexport default connect(mapStateToProps, {updateProfile, getUserProfile})(ProfileDataFormContainer);","import React, {useState} from 'react';\nimport style from './Description.module.css';\nimport ProfileData from './ProfileData/ProfileData';\nimport ProfileDataForm from './ProfileDataForm/ProfileDataForm';\n\nconst Description = (props) => {\n\n    const [editMode, setEditMode] = useState(false);\n\n    return (\n        <div>\n            <div className=\"status\" style={{fontFamily: 'Roboto', color: 'tomato'}}>\n                {\n                    !props.editMode &&\n                    <div>\n                    <span\n                        onDoubleClick={() => {\n                            props.setEditMode(true)\n                        }}\n                    >\n                        {props.status || \"-----\"}\n                    </span>\n                    </div>\n                }\n\n                {\n                    props.editMode &&\n                    <input\n                        autoFocus={true}\n                        onBlur={() => props.setStatus(props.status)}\n                        value={props.status}\n                        onChange={(e) => {\n                            props.onChangeStatus(e.target.value)\n                        }}\n                    />\n                }\n            </div>\n            {editMode\n                ? <ProfileDataForm initialValues={props.profile} turnOffEditMode={() => setEditMode(false)}/>\n                : <ProfileData profile={props.profile} turnOnEditMode={() => setEditMode(true)}/>\n            }\n        </div>\n    );\n}\n\n\n\n\n\nexport default Description;\n","import React, {useEffect, useState} from 'react';\r\nimport Description from \"./Description\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, updateStatus} from \"../../../redux/profile-reducer\";\r\n\r\nconst DescriptionContainerWithHooks = (props) => {\r\n\r\n    let [editMode, setStateEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n        props.getStatus(props.profile.userId)\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const onChangeStatus =(status) =>{\r\n        setStatus(status)\r\n    }\r\n\r\n    const setAboutMe = () =>{\r\n        props.updateStatus(status);\r\n        setStateEditMode(false);\r\n    }\r\n\r\n    const setEditMode = (editModeState) =>\r\n    {\r\n        setStateEditMode(editModeState)\r\n    }\r\n\r\n        return (\r\n            <Description\r\n                profile={props.profile}\r\n                status={status}\r\n                editMode={editMode}\r\n                onChangeStatus={onChangeStatus}\r\n                setStatus={setAboutMe}\r\n                setEditMode={setEditMode}\r\n            />\r\n        );\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        profile: state.ProfilePage.profile,\r\n        status: state.ProfilePage.status\r\n    }\r\n};\r\nexport default connect(mapStateToProps, {getStatus, updateStatus})(DescriptionContainerWithHooks);\r\n","import React from 'react';\nimport Avatar from './Avatar/Avatar.jsx';\nimport MyPostsContainer from './MyPosts/MyPostsContainer.jsx';\nimport styles from './Profile.module.css';\nimport WriteNewPostContainer from \"./WriteNewPost/WriteNewPostContainer\";\nimport Preloader from \"../Common/Preloader/Preloader\";\nimport DescriptionContainer from \"./Description/DescriptionContainer\";\n\nconst  Profile = (props) => {\n\tif(!props.profile) {\n\t\treturn <Preloader />\n\t}\n\n\treturn (\n\t\t<div className={styles.profile}>\n\t\t\t<Avatar photos={props.profile.photos} isOwner={props.isOwner}/>\n\t\t\t<DescriptionContainer profile={props.profile} status={props.status}/>\n\t\t\t<WriteNewPostContainer />\n\t\t\t<MyPostsContainer />\n\t\t</div>\n\t);\n}\n\nexport default Profile;\n","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile} from \"../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    getUserProfileById(userId)\r\n    {\r\n        this.props.getUserProfile(userId ? userId : this.props.myId);\r\n        this.props.getStatus(userId ? userId : this.props.myId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUserProfileById(this.props.match.params.userId);\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.match.params.userId !== this.props.match.params.userId)\r\n            this.getUserProfileById(this.props.match.params.userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile\r\n                isOwner={!!this.props.myId}\r\n                {...this.props}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.ProfilePage.profile,\r\n    status: state.ProfilePage.status,\r\n    myId: state.Auth.isAuth ? state.Auth.userId : undefined\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile, getStatus}),\r\n    withRouter\r\n)(ProfileContainer);"],"sourceRoot":""}