(this.webpackJsonpreact_js=this.webpackJsonpreact_js||[]).push([[0],{108:function(e,t,n){e.exports={formControl:"FormsControls_formControl__yXrOt",error:"FormsControls_error__be64g",formSummaryError:"FormsControls_formSummaryError__1-FTL"}},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"g",(function(){return v})),n.d(t,"d",(function(){return O})),n.d(t,"f",(function(){return P}));var r=n(8),a=n.n(r),o=n(18),c=n(30),u=n(5),i=n(16),s=n(169),l="PROFILE_REDUCER/ADD_POST",f="PROFILE_REDUCER/SET_USER_PROFILE",p="PROFILE_REDUCER/SET_STATUS",d="PROFILE_REDUCER/REMOVE_POST",m={PostsData:[{id:1,message:"There's my first post!",likesCount:10},{id:2,message:"Welcome to my page!",likesCount:20}],profile:null,newPostText:"",status:""},g=function(e){return{type:l,newPostText:e}},h=function(e){return{type:p,status:e}},E=function(e){return{type:"PROFILE_REDUCER/UPDATE_PROFILE_SUCCESS",profile:e}},b=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateProfilePhoto(e);case 2:0===(r=t.sent).data.resultCode&&n({type:"PROFILE_REDUCER/SAVE_PROFILE_PHOTO",photos:r.data.data.photos});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:r=t.sent,n(h(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.updateStatus(e);case 2:0===t.sent.resultCode&&n(h(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getUserProfile(e);case 2:r=t.sent,n({type:f,profile:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.d.updateProfile(e);case 2:if(0!==(r=t.sent).data.resultCode){t.next=7;break}n(E),t.next=10;break;case 7:return o=r.data.messages.length>0?r.data.messages[0]:"unknown error",n(Object(s.stopSubmit)("profile",{_error:o})),t.abrupt("return",Promise.reject(o));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:for(var n=1;void 0!==e.PostsData[n-1];)++n;return Object(u.a)(Object(u.a)({},e),{},{PostsData:[].concat(Object(c.a)(e.PostsData),[{id:n,message:t.newPostText,likesCount:0}]),newPostText:""});case"PROFILE_REDUCER/UPDATE_NEW_POST_TEXT":return Object(u.a)(Object(u.a)({},e),{},{newPostText:t.postText});case f:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case p:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case d:return Object(u.a)(Object(u.a)({},e),{},{PostsData:e.PostsData.filter((function(e){return e.id!==t.postId}))});case"PROFILE_REDUCER/SAVE_PROFILE_PHOTO":return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});case"PROFILE_REDUCER/UPDATE_PROFILE_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)({},t.profile)});default:return e}}},121:function(e,t,n){e.exports=n.p+"static/media/freepik-avatar.5b019637.jpg"},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var r=n(30),a=n(5),o={MessagesData:[{id:1,avatar:"ava",name:"Andrew",text:"How is your day?"},{id:2,avatar:"ava",name:"Me",text:"It's ok, thank you for asking"},{id:3,avatar:"ava",name:"Andrew",text:"You're welcome!"}],ContactsData:[{id:1,name:"Andrew"},{id:2,name:"Oleg"},{id:3,name:"Sasha"},{id:4,name:"Sveta"},{id:5,name:"Olga"},{id:6,name:"Kristy"}]},c=function(e){return{type:"ADD-MESSAGE",newMessage:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":for(var n=1;void 0!==e.MessagesData[n];)++n;return Object(a.a)(Object(a.a)({},e),{},{MessagesData:[].concat(Object(r.a)(e.MessagesData),[{id:n,avatar:"ava",name:"The GOD",text:t.newMessage}])});default:return e}}},16:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return i}));var r=n(163),a=r.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"53d3dc64-a25c-445e-81a3-2b2dcf8f14a9"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},followUser:function(e){return a.post("follow/"+e,null).then((function(e){return e.data}))},unfollowUser:function(e){return a.delete("follow/"+e).then((function(e){return e.data}))},updateProfile:function(e){return a.put("profile",e)}},c={authMe:function(){return a.get("auth/me").then((function(e){return e.data}))},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return a.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},logout:function(){return a.delete("auth/login")}},u={getUserProfile:function(e){return a.get("profile/".concat(e)).then((function(e){return e.data}))},getStatus:function(e){return a.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return a.put("profile/status/",{status:e}).then((function(e){return e.data}))},updateProfilePhoto:function(e){var t=new FormData;return t.append("image",e),a.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})}},i={getCaptchaUrl:function(){return a.get("security/get-captcha-url")}}},164:function(e,t,n){e.exports={userPhoto:"users_userPhoto__3GUvv"}},165:function(e,t,n){e.exports=n.p+"static/media/loading.4ba43602.svg"},167:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},168:function(e,t,n){e.exports={formSummaryError:"login_formSummaryError__r67RS"}},196:function(e,t,n){e.exports=n(395)},197:function(e,t,n){},20:function(e,t,n){e.exports={sidebar:"Sidebar_sidebar__gRxXe",sidebar__menu:"Sidebar_sidebar__menu__tltDb",sidebar__item:"Sidebar_sidebar__item__lG_a9",active:"Sidebar_active__3FjMO"}},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(88),a=n(0),o=n.n(a),c=n(108),u=n.n(c),i=n(104),s=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,c=e.children,i=(Object(r.a)(e,["input","meta","children"]),n&&a);return o.a.createElement("div",{className:u.a.formControl+" "+(i&&u.a.error)},o.a.createElement("div",null,c),n&&a&&o.a.createElement("span",null,a))},l=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return o.a.createElement(s,e,o.a.createElement("textarea",Object.assign({},t,n)))},f=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,["input","meta","child"]));return o.a.createElement(s,e,o.a.createElement("input",Object.assign({},t,n)))},p=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"text",c=arguments.length>5?arguments[5]:void 0;return o.a.createElement("div",null,o.a.createElement(i.a,{placeholder:e,name:t,validate:n,component:r,type:a}),c)}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var r=n(8),a=n.n(r),o=n(18),c=n(5),u=n(16),i=n(46),s="AUTH_REDUCER/SET_USER_DATA",l={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},f=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,c,s,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.authMe();case 2:0===(n=e.sent).resultCode?(r=n.data,o=r.id,c=r.login,s=r.email,t(g(o,c,s,!0))):(10===n.resultCode&&t(d()),l=n.messages.length>0?n.messages[0]:"some error",t(Object(i.a)("login",{_error:l})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},p=function(e,t,n,r){return function(){var c=Object(o.a)(a.a.mark((function o(c){var s,l;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.login(e,t,n,r);case 2:0===(s=a.sent).data.resultCode?c(f()):(10===s.data.resultCode&&c(d()),l=s.data.messages.length>0?s.data.messages[0]:"some error",c(Object(i.a)("login",{_error:l})));case 4:case"end":return a.stop()}}),o)})));return function(e){return c.apply(this,arguments)}}()},d=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.c.getCaptchaUrl();case 2:n=e.sent,r=n.data.url,t(h(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.logout();case 2:0===e.sent.data.resultCode&&t(g(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},g=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:s,data:{userId:e,login:t,email:n,isAuth:r}}},h=function(e){return{type:"AUTH_REDUCER/GET_CAPTCHA_URL_SUCCESS ",data:{captchaUrl:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(c.a)(Object(c.a)(Object(c.a)({},e),t.data),{},{isAuth:t.data.isAuth});case"AUTH_REDUCER/GET_CAPTCHA_URL_SUCCESS ":return Object(c.a)(Object(c.a)({},e),{},{captchaUrl:t.data.captchaUrl});default:return e}}},395:function(e,t,n){"use strict";n.r(t);n(197),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(80),a=n.n(r),o=n(0),c=n.n(o),u=n(48),i=n(49),s=n(52),l=n(51),f=n(20),p=n.n(f),d=n(19);var m=function(){return c.a.createElement("aside",{className:p.a.sidebar},c.a.createElement("ul",{className:p.a.sidebar__menu},c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/profile"},"Profile")),c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/dialogs"},"Messages")),c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/news"},"News")),c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/music"},"Music")),c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/users"},"Find user")),c.a.createElement("li",null,c.a.createElement(d.b,{className:p.a.sidebar__item,activeClassName:p.a.active,to:"/settings"},"Settings"))))},g=n(85),h=n.n(g),E=n(14),b=n(15),_=n(8),v=n.n(_),O=n(18),P=n(30),w=n(5),j=n(16),C=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(w.a)(Object(w.a)({},e),r):e}))},S={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],fake:10},U=function(e){return{type:"FOLLOW",userId:e}},y=function(e){return{type:"UNFOLLOW",userId:e}},A=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},I=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},R=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},x=function(){var e=Object(O.a)(v.a.mark((function e(t,n,r,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(R(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:C(e.users,t.userId,"id",{followed:!0}),followingInProgress:e.followingInProgress.filter((function(e){return e!==t.userId}))});case"UNFOLLOW":return Object(w.a)(Object(w.a)({},e),{},{users:C(e.users,t.userId,"id",{followed:!1}),followingInProgress:e.followingInProgress.filter((function(e){return e!==t.userId}))});case"SET_USERS":return Object(w.a)(Object(w.a)({},e),{},{users:Object(P.a)(t.users)});case"SET_CURRENT_PAGE":return Object(w.a)(Object(w.a)({},e),{},{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return Object(w.a)(Object(w.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return Object(w.a)(Object(w.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(w.a)(Object(w.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(P.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},k=n(110),L=n(86),F=n.n(L),D=function(e){var t=e.currentPage,n=e.onPageChanged,r=e.pages,a=e.pagesCount,o=e.movePages,u=e.itemsPaginatorCount;return c.a.createElement("div",{className:F.a.pagination},!r.some((function(e){return e<11}))&&c.a.createElement("button",{onClick:function(){return o(-u)}},"Prev"),r.map((function(e){return c.a.createElement("div",{key:e,onClick:function(){n(e)},className:F.a.pagination__item+" "+(t===e&&F.a.pagination__current)},e)})),!r.some((function(e){return e>a-10}))&&c.a.createElement("button",{onClick:function(){return o(u)}},"Next"))},N=function(e){var t=e.currentPage,n=e.itemsPaginatorCount,r=Math.floor(t/n)*n+1,a=Math.ceil(t/n)*n,u=Object(o.useState)({currentPage:e.currentPage,pagesCount:Math.ceil(e.totalUsersCount/e.pageSize),itemsPaginatorCount:n,leftEdge:r,rightEdge:a,Pages:Object(P.a)(Array(a-r+1)).map((function(e,t){return r+t}))}),i=Object(k.a)(u,2),s=i[0],l=i[1];Object(o.useEffect)((function(){l((function(t){return Object(w.a)(Object(w.a)({},t),{},{pagesCount:Math.ceil(e.totalUsersCount/e.pageSize)})}))}),[e.totalUsersCount,e.pageSize]);return c.a.createElement(D,Object.assign({},e,{pages:s.Pages,movePages:function(e){var t=s.leftEdge+e<1?1:s.leftEdge+e,n=t+s.itemsPaginatorCount>s.pagesCount?s.pagesCount:t+s.itemsPaginatorCount;t>n&&(n=t),l((function(e){return Object(w.a)(Object(w.a)({},e),{},{leftEdge:t,rightEdge:n,Pages:Object(P.a)(Array(n-t+1)).map((function(e,n){return t+n}))})}))},pagesCount:s.pagesCount}))},M=n(164),G=n.n(M),z=n(121),H=n.n(z),W=function(e){var t=e.id,n=e.photos,r=e.name,a=e.followed,o=e.followingInProgress,u=e.unfollow,i=e.follow,s=e.status;return c.a.createElement("div",{key:t},c.a.createElement("span",null,c.a.createElement("div",null,c.a.createElement(d.b,{to:"/profile/".concat(t)},c.a.createElement("img",{className:G.a.userPhoto,src:null!=n.small?n.small:H.a,alt:"avatar of ".concat(r)}))),c.a.createElement("div",null,a?c.a.createElement("button",{disabled:o.some((function(e){return t===e})),onClick:function(){u(t)}},"Unfollow"):c.a.createElement("button",{disabled:o.some((function(e){return t===e})),onClick:function(){i(t)}},"Follow"))),c.a.createElement("span",null,c.a.createElement("span",null,c.a.createElement("div",null,r),c.a.createElement("div",null,s))))},X=function(e){var t=e.currentPage,n=e.pageSize,r=e.totalUsersCount,a=e.onPageChanged,o=e.followingInProgress,u=e.follow,i=e.unfollow,s=e.users;return c.a.createElement("div",null,c.a.createElement(N,{currentPage:t,onPageChanged:a,totalUsersCount:r,pageSize:n,itemsPaginatorCount:10}),s.map((function(e){return c.a.createElement(W,Object.assign({},e,{followingInProgress:o,follow:u,unfollow:i}))})))},V=n(53),q=n(166),B=Object(q.a)((function(e){return e.UsersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Y=function(e){return e.UsersPage.pageSize},Z=function(e){return e.UsersPage.totalUsersCount},J=function(e){return e.UsersPage.currentPage},K=function(e){return e.UsersPage.isFetching},$=function(e){return e.UsersPage.followingInProgress},Q=function(e){return e.Auth.isAuth},ee=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.requestUsers(t,e.props.pageSize)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return this.props.isAuth?c.a.createElement(c.a.Fragment,null,this.props.isFetching?c.a.createElement(V.a,null):null,c.a.createElement(X,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,users:this.props.users,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow})):c.a.createElement(E.a,{to:"/login"})}}]),n}(c.a.Component),te=Object(b.connect)((function(e){return{users:B(e),pageSize:Y(e),totalUsersCount:Z(e),currentPage:J(e),isFetching:K(e),followingInProgress:$(e),isAuth:Q(e)}}),{follow:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=j.d.followUser.bind(j.d),t.next=3,x(n,e,r,U);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(O.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=j.d.unfollowUser.bind(j.d),t.next=3,x(n,e,r,y);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleIsFetching:I,toggleFollowingInProgress:R,requestUsers:function(e,t){return function(){var n=Object(O.a)(v.a.mark((function n(r){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(I(!0)),n.next=3,j.d.getUsers(e,t);case 3:a=n.sent,r(I(!1)),r({type:"SET_USERS",users:a.items}),r(A(e)),r({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:a.totalCount});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})(ee),ne=n(167),re=n.n(ne),ae=n(87),oe=n.n(ae);var ce=function(e){return c.a.createElement("header",{className:oe.a.header},c.a.createElement("img",{className:oe.a.header__logo,src:re.a,alt:"Logo"}),c.a.createElement("div",{className:oe.a.login__block},e.isAuth?c.a.createElement("div",null,e.login," - ",c.a.createElement("button",{onClick:e.logout},"Log out")):c.a.createElement(d.b,{to:"/login"},"Login")))},ue=n(39),ie=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return c.a.createElement(ce,{isAuth:this.props.isAuth,login:this.props.login,logout:this.props.logout})}}]),n}(c.a.Component),se=Object(b.connect)((function(e){return{isAuth:e.Auth.isAuth,login:e.Auth.login}}),{logout:ue.d})(ie),le=n(160),fe=n(36),pe=n(78),de=n(168),me=n.n(de),ge=Object(le.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return c.a.createElement("div",null,c.a.createElement("form",{action:"/",method:"GET",onSubmit:t},Object(fe.c)("Login","login",pe.b,fe.a),Object(fe.c)("password","password",pe.b,fe.a,"password"),Object(fe.c)("","rememberMe",null,fe.a,"checkbox","rememberMe"),n&&c.a.createElement("div",{className:me.a.formSummaryError},n),r&&c.a.createElement(c.a.Fragment,null,c.a.createElement("img",{src:r,alt:"resolve this captcha"}),Object(fe.c)("captcha","captcha",pe.b,fe.a)),c.a.createElement("div",null,c.a.createElement("button",null,"login"))))})),he=Object(b.connect)((function(e){return{isAuth:e.Auth.isAuth,captchaUrl:e.Auth.captchaUrl}}),{login:ue.c})((function(e){return e.isAuth?c.a.createElement(E.a,{to:"/profile"}):c.a.createElement("div",null,c.a.createElement("h1",null,"Login"),c.a.createElement(ge,{onSubmit:function(t){var n=t.login,r=t.password,a=t.rememberMe,o=t.captcha;e.login(n,r,a,o)},captchaUrl:e.captchaUrl}))})),Ee=n(11),be={initialized:!1},_e=n(109),ve=n(159),Oe=n(170),Pe=n(161),we=Object(Ee.combineReducers)({ProfilePage:_e.b,MessagesPage:ve.a,UsersPage:T,Auth:ue.b,app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(w.a)(Object(w.a)({},e),{},{initialized:!0});default:return e}},form:Pe.a}),je=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.compose,Ce=Object(Ee.createStore)(we,je(Object(Ee.applyMiddleware)(Oe.a)));window.store=Ce;var Se=Ce,Ue=function(e){return function(t){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(V.a,null)},c.a.createElement(e,t))}},ye=c.a.lazy((function(){return n.e(4).then(n.bind(null,403))})),Ae=c.a.lazy((function(){return n.e(3).then(n.bind(null,402))})),Ie=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"catchAllUnhandledError",value:function(e){alert(e),console.log(e)}},{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledError)}},{key:"componentWillUnmount",value:function(){window.removeEventListener(this.catchAllUnhandledError)}},{key:"render",value:function(){return this.props.initialized?c.a.createElement("div",null,c.a.createElement("div",{className:"".concat(h.a.App," ").concat(h.a.wrapper)},c.a.createElement(se,null),c.a.createElement(m,null),c.a.createElement("div",{className:h.a.content},c.a.createElement(E.d,null,c.a.createElement(E.b,{path:"/profile/:userId?",render:Ue(Ae)}),c.a.createElement(E.b,{exact:!0,path:"/",render:Ue(Ae)}),c.a.createElement(E.b,{exact:!0,path:"/dialogs",render:Ue(ye)}),c.a.createElement(E.b,{exact:!0,path:"/users",render:Ue(te)}),c.a.createElement(E.b,{exact:!0,path:"/login",render:Ue(he)}),c.a.createElement(E.b,{path:"*",render:function(){return c.a.createElement("div",null,"404 not found")}}))))):c.a.createElement(V.a,null)}}]),n}(c.a.Component),Re=Object(Ee.compose)(E.g,Object(b.connect)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Object(ue.a)());Promise.all([t]).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(Ie),xe=function(e){return c.a.createElement(d.a,null,c.a.createElement(b.Provider,{store:Se},c.a.createElement(Re,null)))};a.a.render(c.a.createElement(xe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},53:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(165),c=n.n(o);t.a=function(e){return a.a.createElement("img",{src:c.a,alt:"Please, wait for download..."})}},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length us ".concat(e," symbols")}}},85:function(e,t,n){e.exports={wrapper:"App_wrapper__3Fubn",App:"App_App__2Pnnn",content:"App_content__38VNa",content__wallpaper:"App_content__wallpaper__1iWTM"}},86:function(e,t,n){e.exports={pagination:"Paginator_pagination__3WCVh",pagination__item:"Paginator_pagination__item__qZRBs",pagination__current:"Paginator_pagination__current__2XU1Y"}},87:function(e,t,n){e.exports={header:"Header_header__2-lMr",header__logo:"Header_header__logo__X1oim",login__block:"Header_login__block__1M05r"}}},[[196,1,2]]]);
//# sourceMappingURL=main.da1c6826.chunk.js.map