(this.webpackJsonpreact_js=this.webpackJsonpreact_js||[]).push([[3],{485:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(51),o=a(33),r=a(67),c=a(66),l=a(17),i=a(0),s=a.n(i),u=a(18),f=a(52),m=function(e){var t=function(t){Object(r.a)(i,t);var a=Object(c.a)(i);function i(){return Object(n.a)(this,i),a.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){return!1===this.props.isAuth&&(Object(f.a)(),!1===this.props.isAuth)?s.a.createElement(l.a,{to:"/login"}):s.a.createElement(e,this.props)}}]),i}(s.a.Component);return Object(u.connect)((function(e){return{isAuth:e.Auth.isAuth}}),{authUserData:f.a})(t)}},486:function(e,t,a){e.exports={contacts:"Description_contacts__1vBkE"}},489:function(e,t,a){e.exports={avatar:"Avatar_avatar__2WZvf",avatar__photo:"Avatar_avatar__photo__TV6zX"}},490:function(e,t,a){},491:function(e,t,a){e.exports={profile:"Profile_profile__3VnSr"}},492:function(e,t,a){"use strict";a.r(t);var n=a(51),o=a(33),r=a(67),c=a(66),l=a(0),i=a.n(l),s=a(7),u=a(489),f=a.n(u),m=a(207),p=a.n(m),d=a(18),b=a(148);function E(e){return i.a.createElement("div",{className:f.a.avatar},i.a.createElement("img",{src:e.photos.small||p.a,className:f.a.avatar__photo,alt:"ava "}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:e.onAvatarSelected}))}var h=Object(d.connect)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{photos:e.ProfilePage.profile.photos})}),{saveProfilePhoto:b.e})((function(e){return i.a.createElement(E,Object.assign({},e,{onAvatarSelected:function(t){t.target.files.length&&e.saveProfilePhoto(t.target.files[0])}}))})),v=a(490),g=a.n(v),O=i.a.memo((function(e){return i.a.createElement("div",{className:g.a.post},i.a.createElement("p",null,e.text),i.a.createElement("span",null,e.likesCount))})),j=function(e){return i.a.createElement("div",null,i.a.createElement("h3",null,"MyPosts"),e.Posts)},P=Object(d.connect)((function(e){return{Posts:e.ProfilePage.PostsData.map((function(e){return i.a.createElement(O,{key:e.id,text:e.message,likesCount:e.likesCount})}))}}),null)(j),y=a(491),k=a.n(y),S=a(142),_=a(208),A=a(110),I=a(47),N=Object(A.a)(10),w=Object(_.a)({form:"writeNewPost"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"newPostText"},"Write your new post!")),i.a.createElement("div",null,i.a.createElement(S.a,{component:I.b,name:"newPostText",validate:[A.b,N]}))),i.a.createElement("button",{type:"submit"},"Send new post"))})),M=function(e){return i.a.createElement("div",{style:{margin:"20px"}},i.a.createElement(w,{onSubmit:function(t){console.log(t),e.addPost(t.newPostText)}}))},x=Object(d.connect)((function(e){return{}}),{addPost:b.a})(M),C=a(71),F=a(111),D=a(486),U=a.n(D),J=function(e){return i.a.createElement("div",null,i.a.createElement("button",{onClick:e.turnOnEditMode},"Edit"),i.a.createElement("div",{className:"fullName"},e.profile.fullName),i.a.createElement("div",{className:"aboutMe"},e.profile.aboutMe),i.a.createElement("div",null,e.profile.lookingForAJob&&e.profile.lookingForAJobDescription),i.a.createElement("div",null,0!==e.profile.contacts.length&&"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),i.a.createElement("dl",{className:U.a.contacts},0!==e.profile.contacts.length&&Object.keys(e.profile.contacts).map((function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("dt",{className:"contacts_item",key:t},t),i.a.createElement("dd",{key:t+"Prop"},e.profile.contacts[t]))}))))},B=Object(_.a)({form:"profile"})((function(e){var t=e.error;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:e.handleSubmit},Object(I.c)("Full name","fullName",[A.b],I.a),Object(I.c)("About me","aboutMe",[A.b],I.b),Object(I.c)("looking for a job","lookingForAJob",[],I.a,"checkbox","Looking for a job"),Object(I.c)("looking for a job","lookingForAJobDescription",[A.b],I.b,"Looking a job description"),i.a.createElement("div",null,0!==e.profile.contacts.length&&"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),i.a.createElement("dl",{className:U.a.contacts},0!==e.profile.contacts.length&&Object.keys(e.profile.contacts).map((function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("dt",{className:"contacts_item",key:e},e),i.a.createElement("dd",{key:e+"Prop"},Object(I.c)(e,"contacts."+e,[],I.a)))}))),t&&i.a.createElement("div",{style:{border:"1px solid red"}},t),i.a.createElement("button",{type:"submit"},"Save new Data")))})),T=Object(d.connect)((function(e){return{profile:e.ProfilePage.profile}}),{updateProfile:b.f,getUserProfile:b.d})((function(e){return i.a.createElement(B,Object.assign({},e,{onSubmit:function(t){e.updateProfile(t).then((function(){e.turnOffEditMode(),e.getUserProfile(e.profile.userId)}))}}))})),V=function(e){var t=Object(l.useState)(!1),a=Object(F.a)(t,2),n=a[0],o=a[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"status",style:{fontFamily:"Roboto",color:"tomato"}},!e.editMode&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){e.setEditMode(!0)}},e.status||"-----")),e.editMode&&i.a.createElement("input",{autoFocus:!0,onBlur:function(){return e.setStatus(e.status)},value:e.status,onChange:function(t){e.onChangeStatus(t.target.value)}})),n?i.a.createElement(T,{initialValues:e.profile,turnOffEditMode:function(){return o(!1)}}):i.a.createElement(J,{profile:e.profile,turnOnEditMode:function(){return o(!0)}}))},L=Object(d.connect)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status}}),{getStatus:b.c,updateStatus:b.g})((function(e){var t=Object(l.useState)(!1),a=Object(F.a)(t,2),n=a[0],o=a[1],r=Object(l.useState)(e.status),c=Object(F.a)(r,2),s=c[0],u=c[1];Object(l.useEffect)((function(){e.getStatus(e.profile.userId),u(e.status)}),[e.status]);return i.a.createElement(V,{profile:e.profile,status:s,editMode:n,onChangeStatus:function(e){u(e)},setStatus:function(){e.updateStatus(s),o(!1)},setEditMode:function(e){o(e)}})})),W=function(e){return e.profile?i.a.createElement("div",{className:k.a.profile},i.a.createElement(h,{photos:e.profile.photos,isOwner:e.isOwner}),i.a.createElement(L,{profile:e.profile,status:e.status}),i.a.createElement(x,null),i.a.createElement(P,null)):i.a.createElement(C.a,null)},z=a(17),R=a(13),X=(a(485),function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getUserProfileById",value:function(e){this.props.getUserProfile(e||this.props.myId),this.props.getStatus(e||this.props.myId)}},{key:"componentDidMount",value:function(){this.getUserProfileById(this.props.match.params.userId)}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.userId!==this.props.match.params.userId&&this.getUserProfileById(this.props.match.params.userId)}},{key:"render",value:function(){return this.props.myId||this.props.match.params.userId?i.a.createElement(W,Object.assign({isOwner:!!this.props.myId},this.props)):i.a.createElement(z.a,{to:"/login"})}}]),a}(i.a.Component));t.default=Object(R.compose)(Object(d.connect)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,myId:e.Auth.isAuth?e.Auth.userId:void 0}}),{getUserProfile:b.d,getStatus:b.c}),z.g)(X)}}]);
//# sourceMappingURL=3.f11ffe57.chunk.js.map