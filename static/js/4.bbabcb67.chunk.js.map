{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.js"],"names":["module","exports","DialogItem","props","to","id","name","Message","className","styles","messages__item","messages__user","messages__avatar","avatar","messages__user_name","messages__text","text","DialogReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","type","DialogFormContainer","formData","sendMessage","newMessageText","Dialogs","isAuth","dialogs__header","dialogs","dialogs__list","DialogItems","dialogs__messages","messages","MessageItems","compose","connect","state","MessagesPage","ContactsData","map","x","key","MessagesData","newMessage","Component","RedirectComponent","this","authUserData","React","Auth"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,cAAgB,+BAA+B,kBAAoB,mCAAmC,SAAW,4B,oECWvJC,EARI,SAAAC,GACf,OACI,4BACI,kBAAC,IAAD,CAASC,GAAI,YAAcD,EAAME,IAAKF,EAAMG,Q,kBCQzCC,EAZC,SAAAJ,GACZ,OACI,yBAAKK,UAAWC,IAAOC,gBACnB,yBAAKF,UAAWC,IAAOE,gBACnB,yBAAKH,UAAWC,IAAOG,kBAAmBT,EAAMU,QAChD,yBAAKL,UAAWC,IAAOK,qBAAsBX,EAAMG,OAEvD,yBAAKE,UAAWC,IAAOM,gBAAiBZ,EAAMa,Q,sHCoCpDC,EAAkBC,YAAU,CAC9BC,KAAM,cADcD,EAVN,SAACf,GAEf,OACI,0BAAMiB,SAAUjB,EAAMkB,aAAcb,UAAU,wBAC1C,kBAACc,EAAA,EAAD,CAAOhB,KAAM,iBAAkBiB,UAAWC,IAAUC,SAAUC,MAC9D,4BAAQC,KAAM,UAAd,YASNC,EAAsB,SAACzB,GAKzB,OACI,kBAACc,EAAD,CAAiBG,SALL,SAACS,GACb1B,EAAM2B,YAAYD,EAASE,oBAQpBC,EArDC,SAAC7B,GAMb,OAAqB,IAAjBA,EAAM8B,OACC,kBAAC,IAAD,CAAU7B,GAAI,WAIrB,6BACI,wBAAII,UAAWC,IAAOyB,iBAAtB,WACA,yBAAK1B,UAAWC,IAAO0B,SACnB,wBAAI3B,UAAWC,IAAO2B,eACjBjC,EAAMkC,aAEX,yBAAK7B,UAAS,UAAKC,IAAO6B,kBAAZ,YAAiC7B,IAAO8B,WACjDpC,EAAMqC,aACP,0BAAMpB,SAAUjB,EAAMkB,cAElB,kBAAC,EAAD,CAAqBS,YAnBvB,SAACd,GACfb,EAAM2B,YAAYd,W,QCQXyB,4BACXC,mBAVkB,SAACC,GACnB,MAAO,CACHN,YAAaM,EAAMC,aAAaC,aAAaC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYzC,KAAMyC,EAAEzC,KAAM0C,IAAKD,EAAE1C,QACvFmC,aAAcG,EAAMC,aAAaK,aAAaH,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAASlC,OAAQkC,EAAElC,OAAQP,KAAMyC,EAAEzC,KAAMU,KAAM+B,EAAE/B,KACxCgC,IAAKD,EAAE1C,QACvE6C,WAAYP,EAAMC,aAAaM,cAKV,CAACpB,mBCdW,SAACqB,GAAe,IAC/CC,EAD8C,uKAG5C,OAA0B,IAAtBC,KAAKlD,MAAM8B,SACXqB,eACyB,IAAtBD,KAAKlD,MAAM8B,QACH,kBAAC,IAAD,CAAU7B,GAAI,WAEtB,kBAAC+C,EAAcE,KAAKlD,WARiB,GACpBoD,IAAMJ,WAWtC,OAAOT,mBAAQ,SAACC,GAER,MAAO,CACHV,OAAQU,EAAMa,KAAKvB,UAG3B,CACIqB,kBAPDZ,CASLU,KDRSX,CAGbT","file":"static/js/4.bbabcb67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__18BuJ\",\"dialogs__list\":\"Dialogs_dialogs__list__3hpyN\",\"dialogs__messages\":\"Dialogs_dialogs__messages__3tRMg\",\"messages\":\"Dialogs_messages__3BBgn\"};","import React from 'react';\n//import styles from './DialogItem.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst DialogItem = props => {\n    return (\n        <li>\n            <NavLink to={\"/dialogs/\" + props.id}>{props.name}</NavLink>\n        </li>\n    );\n}\n\nexport default DialogItem;\n","import React from 'react';\nimport styles from './Message.module.css';\n\nconst Message = props => {\n    return (\n        <div className={styles.messages__item}>\n            <div className={styles.messages__user}>\n                <div className={styles.messages__avatar}>{props.avatar}</div>\n                <div className={styles.messages__user_name}>{props.name}</div>\n            </div>\n            <div className={styles.messages__text}>{props.text}</div>\n        </div>\n    );\n}\n\nexport default Message;\n","import React from 'react';\nimport styles from './Dialogs.module.css';\nimport {Redirect} from \"react-router-dom\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {Textarea} from \"../Common/FormsControls/FormsControls\";\nimport {required} from \"../../utils/validators/validators\";\n\nconst Dialogs = (props) => {\n\n    let sendMessage = (text) => {\n        props.sendMessage(text);\n    }\n\n    if (props.isAuth === false) {\n        return <Redirect to={\"/login\"}/>;\n    }\n\n    return (\n        <div>\n            <h2 className={styles.dialogs__header}>Dialogs</h2>\n            <div className={styles.dialogs}>\n                <ul className={styles.dialogs__list}>\n                    {props.DialogItems}\n                </ul>\n                <div className={`${styles.dialogs__messages} ${styles.messages}`}>\n                    {props.MessageItems}\n                    <form onSubmit={props.handleSubmit}>\n\n                        <DialogFormContainer sendMessage={sendMessage}/>\n                    </form>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nconst DialogForm =(props)=>\n{\n    return (\n        <form onSubmit={props.handleSubmit} className=\"dialogs__new_message\">\n            <Field name={\"newMessageText\"} component={Textarea} validate={required} />\n            <button type={\"submit\"} >Send</button>\n        </form>\n    );\n}\n\nconst DialogReduxForm = reduxForm({\n    form: 'dialogForm'\n})(DialogForm)\n\nconst DialogFormContainer = (props) => {\n    const onSubmit =(formData)=>{\n        props.sendMessage(formData.newMessageText);\n    }\n\n    return (\n        <DialogReduxForm onSubmit={onSubmit} />\n    );\n}\n\nexport default Dialogs;\n","import React from 'react';\nimport DialogItem from './DialogItem/DialogItem.jsx'\nimport Message from './Message/Message.jsx'\nimport {sendMessage} from \"../../redux/dialogs-reducer\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirectComponent} from \"../../hoc/withAuthRedirect\";\nimport Dialogs from \"./Dialogs\";\nimport {compose} from \"redux\";\n\nlet mapStateToProps = (state) => {\n    return {\n        DialogItems: state.MessagesPage.ContactsData.map(x => <DialogItem name={x.name} key={x.id}/>),\n        MessageItems: state.MessagesPage.MessagesData.map(x => <Message avatar={x.avatar} name={x.name} text={x.text}\n                                                                        key={x.id}/>),\n        newMessage: state.MessagesPage.newMessage\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, {sendMessage}),\n    withAuthRedirectComponent\n)(Dialogs);","import {Redirect} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {authUserData} from \"../redux/auth-reducer\";\r\n\r\nexport const withAuthRedirectComponent = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) {\r\n                authUserData();\r\n                if(this.props.isAuth === false)\r\n                    return <Redirect to={'/login'}/>\r\n            }\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect((state) =>\r\n        {\r\n            return {\r\n                isAuth: state.Auth.isAuth\r\n            }\r\n        },\r\n        {\r\n            authUserData\r\n        }\r\n    )(RedirectComponent);\r\n}\r\n"],"sourceRoot":""}