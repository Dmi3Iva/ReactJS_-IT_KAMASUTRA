(this.webpackJsonpreact_js=this.webpackJsonpreact_js||[]).push([[3],{396:function(e,t,a){e.exports={contacts:"Description_contacts__1vBkE"}},399:function(e,t,a){e.exports={avatar:"Avatar_avatar__2WZvf",avatar__photo:"Avatar_avatar__photo__TV6zX"}},400:function(e,t,a){},401:function(e,t,a){e.exports={profile:"Profile_profile__3VnSr"}},402:function(e,t,a){"use strict";a.r(t);var n=a(48),o=a(49),r=a(52),c=a(51),l=a(0),i=a.n(l),s=a(5),u=a(399),f=a.n(u),m=a(121),p=a.n(m),d=a(15),b=a(109);function E(e){return i.a.createElement("div",{className:f.a.avatar},i.a.createElement("img",{src:e.photos.small||p.a,className:f.a.avatar__photo,alt:"ava "}),e.isOwner&&i.a.createElement("input",{type:"file",onChange:e.onAvatarSelected}))}var g=Object(d.connect)((function(e,t){return Object(s.a)(Object(s.a)({},t),{},{photos:e.ProfilePage.profile.photos})}),{saveProfilePhoto:b.e})((function(e){return i.a.createElement(E,Object.assign({},e,{onAvatarSelected:function(t){t.target.files.length&&e.saveProfilePhoto(t.target.files[0])}}))})),v=a(400),h=a.n(v),O=i.a.memo((function(e){return i.a.createElement("div",{className:h.a.post},i.a.createElement("p",null,e.text),i.a.createElement("span",null,e.likesCount))})),P=function(e){return i.a.createElement("div",null,i.a.createElement("h3",null,"MyPosts"),e.Posts)},j=Object(d.connect)((function(e){return{Posts:e.ProfilePage.PostsData.map((function(e){return i.a.createElement(O,{key:e.id,text:e.message,likesCount:e.likesCount})}))}}),null)(P),k=a(401),y=a.n(k),S=a(104),_=a(160),N=a(78),w=a(36),I=Object(N.a)(10),M=Object(_.a)({form:"writeNewPost"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit},i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("label",{htmlFor:"newPostText"},"Write your new post!")),i.a.createElement("div",null,i.a.createElement(S.a,{component:w.b,name:"newPostText",validate:[N.b,I]}))),i.a.createElement("button",{type:"submit"},"Send new post"))})),A=function(e){return i.a.createElement("div",{style:{margin:"20px"}},i.a.createElement(M,{onSubmit:function(t){console.log(t),e.addPost(t.newPostText)}}))},x=Object(d.connect)((function(e){return{}}),{addPost:b.a})(A),C=a(53),F=a(110),D=a(396),U=a.n(D),J=function(e){return i.a.createElement("div",null,i.a.createElement("button",{onClick:e.turnOnEditMode},"Edit"),i.a.createElement("div",{className:"fullName"},e.profile.fullName),i.a.createElement("div",{className:"aboutMe"},e.profile.aboutMe),i.a.createElement("div",null,e.profile.lookingForAJob&&e.profile.lookingForAJobDescription),i.a.createElement("div",null,0!==e.profile.contacts.length&&"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),i.a.createElement("dl",{className:U.a.contacts},0!==e.profile.contacts.length&&Object.keys(e.profile.contacts).map((function(t){return i.a.createElement(i.a.Fragment,null,i.a.createElement("dt",{className:"contacts_item",key:t},t),i.a.createElement("dd",{key:t+"Prop"},e.profile.contacts[t]))}))))},B=Object(_.a)({form:"profile"})((function(e){var t=e.error;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:e.handleSubmit},Object(w.c)("Full name","fullName",[N.b],w.a),Object(w.c)("About me","aboutMe",[N.b],w.b),Object(w.c)("looking for a job","lookingForAJob",[],w.a,"checkbox","Looking for a job"),Object(w.c)("looking for a job","lookingForAJobDescription",[N.b],w.b,"Looking a job description"),i.a.createElement("div",null,0!==e.profile.contacts.length&&"\u0421\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438"),i.a.createElement("dl",{className:U.a.contacts},0!==e.profile.contacts.length&&Object.keys(e.profile.contacts).map((function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("dt",{className:"contacts_item",key:e},e),i.a.createElement("dd",{key:e+"Prop"},Object(w.c)(e,"contacts."+e,[],w.a)))}))),t&&i.a.createElement("div",{style:{border:"1px solid red"}},t),i.a.createElement("button",{type:"submit"},"Save new Data")))})),T=Object(d.connect)((function(e){return{profile:e.ProfilePage.profile}}),{updateProfile:b.f,getUserProfile:b.d})((function(e){return i.a.createElement(B,Object.assign({},e,{onSubmit:function(t){e.updateProfile(t).then((function(){e.turnOffEditMode(),e.getUserProfile(e.profile.userId)}))}}))})),V=function(e){var t=Object(l.useState)(!1),a=Object(F.a)(t,2),n=a[0],o=a[1];return i.a.createElement("div",null,i.a.createElement("div",{className:"status",style:{fontFamily:"Roboto",color:"tomato"}},!e.editMode&&i.a.createElement("div",null,i.a.createElement("span",{onDoubleClick:function(){e.setEditMode(!0)}},e.status||"-----")),e.editMode&&i.a.createElement("input",{autoFocus:!0,onBlur:function(){return e.setStatus(e.status)},value:e.status,onChange:function(t){e.onChangeStatus(t.target.value)}})),n?i.a.createElement(T,{initialValues:e.profile,turnOffEditMode:function(){return o(!1)}}):i.a.createElement(J,{profile:e.profile,turnOnEditMode:function(){return o(!0)}}))},L=Object(d.connect)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status}}),{getStatus:b.c,updateStatus:b.g})((function(e){var t=Object(l.useState)(!1),a=Object(F.a)(t,2),n=a[0],o=a[1],r=Object(l.useState)(e.status),c=Object(F.a)(r,2),s=c[0],u=c[1];Object(l.useEffect)((function(){e.getStatus(e.profile.userId),u(e.status)}),[e.status]);return i.a.createElement(V,{profile:e.profile,status:s,editMode:n,onChangeStatus:function(e){u(e)},setStatus:function(){e.updateStatus(s),o(!1)},setEditMode:function(e){o(e)}})})),W=function(e){return e.profile?i.a.createElement("div",{className:y.a.profile},i.a.createElement(g,{photos:e.profile.photos,isOwner:e.isOwner}),i.a.createElement(L,{profile:e.profile,status:e.status}),i.a.createElement(x,null),i.a.createElement(j,null)):i.a.createElement(C.a,null)},z=a(14),R=a(11),X=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"getUserProfileById",value:function(e){this.props.getUserProfile(e||this.props.myId),this.props.getStatus(e||this.props.myId)}},{key:"componentDidMount",value:function(){this.getUserProfileById(this.props.match.params.userId)}},{key:"componentDidUpdate",value:function(e,t,a){e.match.params.userId!==this.props.match.params.userId&&this.getUserProfileById(this.props.match.params.userId)}},{key:"render",value:function(){return i.a.createElement(W,Object.assign({isOwner:!!this.props.myId},this.props))}}]),a}(i.a.Component);t.default=Object(R.compose)(Object(d.connect)((function(e){return{profile:e.ProfilePage.profile,status:e.ProfilePage.status,myId:e.Auth.isAuth?e.Auth.userId:void 0}}),{getUserProfile:b.d,getStatus:b.c}),z.g)(X)}}]);
//# sourceMappingURL=3.b71c39f4.chunk.js.map